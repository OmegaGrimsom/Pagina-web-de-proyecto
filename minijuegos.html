<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Minijuegos - Aprende Programación</title>
  <link rel="stylesheet" href="styles.css">
  <style>
    body { font-family: Arial, sans-serif; margin:0; padding:20px; background:#f0f8ff; }
    h1 { text-align:center; color:#4CAF50; }
    nav { display:flex; justify-content:center; margin-bottom:20px; }
    nav a { margin:0 10px; text-decoration:none; color:#333; font-weight:bold; }
    nav a:hover { text-decoration:underline; }
    #busqueda { width:80%; padding:8px; margin: 0 auto 20px; display:block; border-radius:5px; border:1px solid #ccc; }
    .juego { border:2px solid #4CAF50; border-radius:10px; padding:15px; margin:20px 0; background:#e8f5e9; }
    button { margin-top:10px; padding:8px 12px; cursor:pointer; border:none; border-radius:6px; background:#4CAF50; color:white; font-weight:bold; }
    button:hover { background:#45a049; }
  </style>
</head>
<body>

  <h1>🎮 Minijuegos</h1>

  <input type="text" id="busqueda" placeholder="🔍 Buscar juego...">

  <!-- Juegos -->
  <div class="juego" data-nombre="Número secreto">
    <h2>Adivina el número 🔢</h2>
    <p>Intenta adivinar un número entre 1 y 10</p>
    <input type="number" id="guess">
    <button onclick="adivinar()">Probar</button>
    <p id="resultado"></p>
  </div>

  <div class="juego" data-nombre="Piedra, papel o tijera">
    <h2>Piedra, Papel o Tijera ✊📄✂️</h2>
    <button onclick="ppt('piedra')">Piedra</button>
    <button onclick="ppt('papel')">Papel</button>
    <button onclick="ppt('tijera')">Tijera</button>
    <p id="pptResultado"></p>
  </div>

  <div class="juego" data-nombre="Juego de memoria">
    <h2>Juego de memoria 🧠</h2>
    <button onclick="cargarMemoria()">Reintentar</button>
    <div class="memory-grid" id="memoryGrid"></div>
    <p id="memoryMsg"></p>
  </div>

  <div class="juego" data-nombre="Juego de reacción">
    <h2>Juego de reacción ⚡</h2>
    <div id="reactionBox" style="width:200px;height:200px;background:red;margin:auto;border-radius:10px;"></div>
    <p id="reactionMsg"></p>
  </div>

  <script>
    // --- FILTRO BARRA DE BÚSQUEDA ---
    const busquedaInput = document.getElementById("busqueda");
    busquedaInput.addEventListener("keyup", function() {
      const valor = this.value.toLowerCase();
      document.querySelectorAll(".juego").forEach(juego => {
        const nombre = juego.dataset.nombre.toLowerCase();
        juego.style.display = nombre.includes(valor) ? "block" : "none";
      });
    });

    // --- Juegos ---
    const numeroSecreto = Math.floor(Math.random() * 10) + 1;
    function adivinar() {
      const guess = parseInt(document.getElementById("guess").value);
      const res = document.getElementById("resultado");
      res.textContent = (guess === numeroSecreto) ? "¡Correcto! 🎉" : "Intenta de nuevo...";
    }

    function ppt(jugador) {
      const opciones = ["piedra","papel","tijera"];
      const pc = opciones[Math.floor(Math.random()*3)];
      let resultado = "";
      if(jugador===pc) resultado="Empate 😐";
      else if((jugador==="piedra" && pc==="tijera")||(jugador==="papel" && pc==="piedra")||(jugador==="tijera" && pc==="papel")) resultado="¡Ganaste! 🎉";
      else resultado="Perdiste 😢";
      document.getElementById("pptResultado").textContent = `Tú: ${jugador} | PC: ${pc} → ${resultado}`;
    }

    // --- Juego de memoria ---
    const emojis=["😀","🐱","🚗","🍎","😀","🐱","🚗","🍎"];
    let seleccionadas=[], encontrados=0;
    function cargarMemoria(){
      seleccionadas=[]; encontrados=0;
      const grid=document.getElementById("memoryGrid");
      grid.innerHTML="";
      const mezcladas=emojis.sort(()=>0.5-Math.random());
      mezcladas.forEach((emoji,i)=>{
        const card=document.createElement("div");
        card.className="memory-card hidden";
        card.textContent=emoji;
        card.dataset.index=i;
        card.onclick=()=>seleccionar(card,emoji);
        grid.appendChild(card);
      });
      document.getElementById("memoryMsg").textContent="";
    }

    function seleccionar(card,emoji){
      if(!card.classList.contains("hidden")) return;
      card.classList.remove("hidden");
      seleccionadas.push({card,emoji});
      if(seleccionadas.length===2){
        if(seleccionadas[0].emoji===seleccionadas[1].emoji){
          encontrados++;
          document.getElementById("memoryMsg").textContent="¡Encontraste un par! 🎉";
        } else {
          setTimeout(()=>{seleccionadas[0].card.classList.add("hidden"); seleccionadas[1].card.classList.add("hidden");},800);
        }
        seleccionadas=[];
        if(encontrados===emojis.length/2) document.getElementById("memoryMsg").textContent="¡Ganaste el juego de memoria! 🏆";
      }
    }

    cargarMemoria();

    // --- Juego de reacción ---
    const reactionBox=document.getElementById("reactionBox");
    let startTime;
    reactionBox.addEventListener("click", ()=>{
      if(reactionBox.style.background==="green"){
        const tiempo=(Date.now()-startTime)/1000;
        document.getElementById("reactionMsg").textContent=`¡Tu tiempo fue: ${tiempo}s ⚡!`;
        reactionBox.style.background="red";
        setTimeout(start,2000);
      }
    });
    function start(){
      document.getElementById("reactionMsg").textContent="Espera...";
      const delay=Math.floor(Math.random()*3000)+1000;
      setTimeout(()=>{
        reactionBox.style.background="green";
        startTime=Date.now();
        document.getElementById("reactionMsg").textContent="¡Haz clic YA!";
      },delay);
    }
    start();
  </script>

</body>
</html>
