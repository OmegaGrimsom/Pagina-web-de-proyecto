<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Retos - Aprende Programaci√≥n</title>
  <link rel="icon" href="favicon.ico" type="image/x-icon">
  <link rel="stylesheet" href="estilos.css">
  <style>
    body { font-family: Arial, sans-serif; background: #f4f7fa; margin:0; padding:0; }
    header { background: #4a90e2; padding: 15px; color:white; text-align:center; }
    nav a { color:white; margin:0 10px; text-decoration:none; font-weight:bold; }
    .contenido-principal { max-width:900px; margin:20px auto; padding:20px; background:white; border-radius:10px; box-shadow:0 2px 8px rgba(0,0,0,0.1); }
    .tarjeta { margin-bottom:30px; padding:20px; border:2px solid #ddd; border-radius:10px; transition: border 0.3s; }
    .tarjeta.completado { border-color: #4caf50; }
    textarea { width:100%; height:200px; font-family: monospace; font-size:14px; padding:10px; margin-top:10px; border-radius:6px; border:1px solid #aaa; resize: vertical; }
    iframe { width:100%; height:150px; border:1px solid #ccc; margin-top:10px; border-radius:6px; background:#f9f9f9; }
    button { margin:5px 5px 5px 0; padding:10px 15px; border:none; border-radius:6px; cursor:pointer; font-weight:bold; }
    .ejecutar { background: #4caf50; color:white; }
    .ayuda-btn { background: #ff9800; color:white; }
    .completar { background: #2196f3; color:white; }
    .ayuda { color:#d35400; margin-top:10px; display:none; padding:10px; background:#fff3e0; border-radius:6px; }
  </style>
</head>
<body>

<header class="encabezado">
  <h1>üèÜ Retos</h1>
  <nav class="navegacion">
    <a href="index.html">Inicio</a>
    <a href="teoria.html">Teor√≠a</a>
    <a href="lenguajes.html">Lenguajes</a>
    <a href="ejercicios.html">Ejercicios</a>
    <a href="retos.html">Retos</a>
    <a href="progreso.html">Progreso</a>
    <a href="tutoriales.html">Tutoriales</a>
    <a href="trivia.html">Trivia</a>
  </nav>
</header>

<main class="contenido-principal">

  <!-- Reto 1 -->
  <section class="tarjeta" id="reto1">
    <h2>üîç Reto 1: Inversi√≥n de texto</h2>
    <p>Escribe un programa que invierta el texto ingresado por el usuario.</p>
    <textarea id="codigo1">// Ejemplo: invertir "Hola"
let texto = "Hola";
console.log(texto.split("").reverse().join("")); </textarea><br>
    <button class="ejecutar" onclick="ejecutarCodigo('codigo1','salida1')">‚ñ∂ Ejecutar c√≥digo</button>
    <button class="completar" onclick="marcarReto(1)">Marcar como completado</button>
    <button class="ayuda-btn" onclick="mostrarAyuda(1)">üõà Ayuda</button>
    <div id="ayuda1" class="ayuda">Piensa en c√≥mo puedes recorrer la cadena desde el final hacia el inicio.</div>
    <iframe id="salida1"></iframe>
  </section>

  <!-- Reto 2 -->
  <section class="tarjeta" id="reto2">
    <h2>üßÆ Reto 2: Suma de los primeros 100 n√∫meros</h2>
    <p>Escribe un programa que calcule la suma de los n√∫meros del 1 al 100.</p>
    <textarea id="codigo2">// Ejemplo: suma
let suma = 0;
for(let i=1;i<=100;i++){ suma += i; }
console.log("La suma es: "+suma);</textarea><br>
    <button class="ejecutar" onclick="ejecutarCodigo('codigo2','salida2')">‚ñ∂ Ejecutar c√≥digo</button>
    <button class="completar" onclick="marcarReto(2)">Marcar como completado</button>
    <button class="ayuda-btn" onclick="mostrarAyuda(2)">üõà Ayuda</button>
    <div id="ayuda2" class="ayuda">Usa un bucle para ir sumando los n√∫meros desde 1 hasta 100.</div>
    <iframe id="salida2"></iframe>
  </section>

  <!-- Reto 3 -->
  <section class="tarjeta" id="reto3">
    <h2>üî¢ Reto 3: N√∫meros primos</h2>
    <p>Escribe una funci√≥n que diga si un n√∫mero es primo o no.</p>
    <textarea id="codigo3">// Ejemplo:
function esPrimo(n){
  if(n<=1) return false;
  for(let i=2;i<n;i++){
    if(n%i===0) return false;
  }
  return true;
}
console.log(esPrimo(7));</textarea><br>
    <button class="ejecutar" onclick="ejecutarCodigo('codigo3','salida3')">‚ñ∂ Ejecutar c√≥digo</button>
    <button class="completar" onclick="marcarReto(3)">Marcar como completado</button>
    <button class="ayuda-btn" onclick="mostrarAyuda(3)">üõà Ayuda</button>
    <div id="ayuda3" class="ayuda">Un n√∫mero es primo si solo es divisible por 1 y por s√≠ mismo.</div>
    <iframe id="salida3"></iframe>
  </section>

</main>

<footer class="pie" style="text-align:center; padding:15px; margin-top:20px; background:#eee;">
  <p>&copy; 2025 Aprende Programaci√≥n - Hecho con ‚ù§Ô∏è para estudiantes de secundaria.</p>
</footer>

<script>
const usuario = localStorage.getItem("usuarioActual");

// Ejecutar c√≥digo en iframe
function ejecutarCodigo(textareaId, salidaId){
  const code = document.getElementById(textareaId).value;
  const iframe = document.getElementById(salidaId).contentWindow.document;
  iframe.open();
  iframe.write(`<script>${code}<\/script>`);
  iframe.close();
}

// Mostrar ayuda en la p√°gina
function mostrarAyuda(num){
  const ayudaDiv = document.getElementById(`ayuda${num}`);
  ayudaDiv.style.display = ayudaDiv.style.display === "none" ? "block" : "none";
}

// Marcar reto como completado
function marcarReto(num){
  const clave = usuario ? `${usuario}_reto${num}` : `reto${num}`;
  localStorage.setItem(clave,"true");
  const divReto = document.getElementById(`reto${num}`);
  divReto.classList.add("completado");
  alert(`‚úÖ ¬°Reto ${num} marcado como completado!`);
}
</script>

</body>
</html>
